<form  action="thanks.php" method="post">
    <div>
      <label for="name">Nom :</label>
      <input type="text"  id="name"  name="user_name">
      <?php echo $nameErr;?>
    </div>
    <div>
      <label for="firstname">Prénom :</label>
      <input type="text"  id="firstname"  name="user_firstname">
      <?php echo $firstnameErr;?>
    </div>
    <div>
      <label  for="email">Courriel :</label>
      <input  type="email"  id="email"  name="user_email">
      <?php echo $emailErr;?>
    </div>
    <div>
      <label  for="tel_number">Téléphone :</label>
      <input  type="tel"  id="tel_number"  name="user_tel_number">
      <?php echo $telErr;?>
    </div>
    <div>
      <label  for="theme">Choix du thème :</label>
      <select name="user_theme_choice" id="theme">
        <option value="voitures">voitures</option>
        <option value="voyages">voyages</option>
        <option value="logement">immobilier</option>
      </select>
      <?php echo $choiceErr;?>
    </div>
    <div>
      <label  for="message">Message :</label>
      <textarea  id="message"  name="user_message"></textarea>
    </div>
    <div  class="button">
      <button  type="submit">Envoyer votre message</button>
    </div>
  </form>

  <?php
// define variables and set to empty values
$nameErr = $firstnameErr = $telErr = $emailErr = $choiceErr = $genderErr = $websiteErr = "";
$name = $firstname = $tel = $email = $choice = $gender = $comment = $website = "";

if ($_SERVER["REQUEST_METHOD"] == "POST") {
    if (empty($_POST["user_name"])) {
        $nameErr = "Merci de renseigner votre nom";
    } else {
        $name = test_input($_POST["user_name"]);
        // check if name only contains letters and whitespace
        if (!preg_match("/^[a-zA-Z-' ]*$/", $name)) {
            $nameErr = "seuls les espaces, tirets et lettres sont autorisés";
        }
    }

    if (isset($_POST["user_name"])) {
        echo $_POST("user_name");
    }

    if (empty($_POST["user_firstname"])) {
        $firstnameErr = "Merci de renseigner votre prénom";
    } else {
        $firstname = test_input($_POST["user_firstname"]);
        // check if name only contains letters and whitespace
        if (!preg_match("/^[a-zA-Z-' ]*$/", $name)) {
            $firstnameErr = "seuls les espaces, tirets et lettres sont autorisés";
        }
    }
  
    if (empty($_POST["user_email"])) {
        $emailErr = "Merci de renseigner votre mail";
    } else {
        $email = test_input($_POST["user_email"]);
        // check if e-mail address is well-formed
        if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
            $emailErr = "Format du mail invalide";
        }
    }
    
    /*if (empty($_POST["website"])) {
      $website = "";
    } else {
      $website = test_input($_POST["website"]);
      // check if URL address syntax is valid
      if (!preg_match("/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&@#\/%?=~_|!:,.;]*[-a-z0-9+&@#\/%=~_|]/i",$website)) {
        $websiteErr = "Invalid URL";
      }
    }*/

    if (empty($_POST["user_tel_number"])) {
        $telErr = "Merci de renseigner votre numéro de téléphone";
    } else {
        $tel = test_input($_POST["user_tel_number"]);
    }

    if (empty($_POST["user_message"])) {
        $comment = "";
    } else {
        $comment = test_input($_POST["user_message"]);
    }

    if (empty($_POST["user_theme_choice"])) {
        $choiceErr = "Merci de sélectionner votre thème";
    } else {
        $choice = test_input($_POST["user_theme_choice"]);

        /*if (empty($_POST["gender"])) {
          $genderErr = "Gender is required";
        } else {
          $gender = test_input($_POST["gender"]);
        }*/
    }
}

function test_input($data) {
  $data = trim($data);
  $data = stripslashes($data);
  $data = htmlspecialchars($data);
  return $data;
}
?>
<!--
<h2>PHP Form Validation Example</h2>
<p><span class="error">* required field</span></p>
<form method="post" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>">  
  Name: <input type="text" name="name">
  <span class="error">* <?php echo $nameErr;?></span>
  <br><br>
  E-mail: <input type="text" name="email">
  <span class="error">* <?php echo $emailErr;?></span>
  <br><br>
  Website: <input type="text" name="website">
  <span class="error"><?php echo $websiteErr;?></span>
  <br><br>
  Comment: <textarea name="comment" rows="5" cols="40"></textarea>
  <br><br>
  Gender:
  <input type="radio" name="gender" value="female">Female
  <input type="radio" name="gender" value="male">Male
  <input type="radio" name="gender" value="other">Other
  <span class="error">* <?php echo $genderErr;?></span>
  <br><br>
  <input type="submit" name="submit" value="Submit">  
</form>
-->

<?php
echo "<h2>Your Input:</h2>";
echo $name;
echo "<br>";
echo $email;
echo "<br>";
echo $website;
echo "<br>";
echo $comment;
echo "<br>";
echo $gender;
?>